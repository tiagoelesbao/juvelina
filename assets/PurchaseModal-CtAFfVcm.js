import{r as a,j as e,A as y,m as r,X as j,C as u,S as w}from"./index-BXvE9L0-.js";import{C as E}from"./clock-DiEvC3FX.js";import{S}from"./shield-cldhViGE.js";const O=({isOpen:n,onClose:c,variant:o="default",personalizedTitle:g})=>{const[i,l]=a.useState("monthly"),[d,k]=a.useState({minutes:15,seconds:0}),[C,z]=a.useState(!1),x=a.useRef(null),[f,F]=a.useState(!1),[h,m]=a.useState(!1);a.useEffect(()=>{const s=()=>{z(window.innerWidth<768)};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),a.useEffect(()=>{n&&(o==="exit-intent"&&!f?(m(!0),F(!0)):m(!1))},[n,o,f]),a.useEffect(()=>{if(!n)return;const s=setInterval(()=>{k(t=>t.seconds>0?{...t,seconds:t.seconds-1}:t.minutes>0?{minutes:t.minutes-1,seconds:59}:(clearInterval(s),{minutes:0,seconds:0}))},1e3);return()=>clearInterval(s)},[n]),a.useEffect(()=>{const s=t=>{x.current&&!x.current.contains(t.target)&&(h||c())};return n&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[n,c,h]);const v={single:{title:"Experimente",price:149.9,originalPrice:179.9,description:"Perfeito para iniciar sua jornada",benefits:["1 frasco (30 dias de uso)","Frete Grátis em Todo Brasil","Garantia de 30 dias"]},monthly:{title:"Assinatura Mensal",price:129.9,originalPrice:179.9,description:"A escolha inteligente para resultados contínuos",benefits:["Receba 1 frasco todo mês sem preocupações","Economize R$600/ano","Frete Grátis Prioritário","Cancele quando quiser","Acesso a conteúdos exclusivos"],popular:!0},kit:{title:"Kit 3 Meses",price:379.9,originalPrice:539.7,description:"Economize mais com nosso pacote trimestral",benefits:["3 frascos (90 dias de uso)","Economize R$159,80","Frete Grátis Express","Garantia Estendida de 90 dias"]}},b=s=>s.toLocaleString("pt-BR",{minimumFractionDigits:2}),R=(s,t)=>Math.round((s-t)/s*100),N=()=>g||(o==="exit-intent"?"Espere! Oferta Especial para Você":o==="time-based"?"Oferta por Tempo Limitado!":"Oferta Especial de Lançamento"),p=()=>{m(!1)},$=()=>{m(!1),l("monthly")};return e.jsx(y,{children:n&&e.jsxs(r.div,{className:"fixed inset-0 z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{backdropFilter:"blur(5px)",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:[C?e.jsxs(r.div,{ref:x,className:"bg-white rounded-2xl shadow-2xl mx-auto w-[92%] transform-gpu overflow-hidden",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[e.jsxs("div",{className:"bg-juvelina-gold text-white p-3 rounded-t-2xl relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold truncate pr-6",children:N()}),e.jsx("button",{onClick:c,className:"text-white hover:text-gray-200 transition-colors absolute right-3 top-3","aria-label":"Fechar",children:e.jsx(j,{size:22})})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-white/90",children:[e.jsx(E,{size:14}),e.jsxs("div",{className:"text-xs",children:["Oferta expira em: ",e.jsxs("span",{className:"font-bold",children:[String(d.minutes).padStart(2,"0"),":",String(d.seconds).padStart(2,"0")]})]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Nosso suplemento líquido premium com 25 nutrientes essenciais e absorção 5x superior garante resultados visíveis desde as primeiras semanas."}),e.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"Escolha sua opção:"}),e.jsx("div",{className:`border rounded-xl p-3 hover:border-juvelina-gold transition-all cursor-pointer mb-2 ${i==="single"?"border-2 border-juvelina-gold bg-juvelina-mint/10":"border-gray-200"}`,onClick:()=>l("single"),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"option-single",name:"purchase_option",checked:i==="single",onChange:()=>l("single"),className:"accent-juvelina-gold w-4 h-4"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"option-single",className:"font-medium block",children:["Experimente ",e.jsx("span",{className:"ml-1 text-xs text-white bg-juvelina-gold px-1.5 py-0.5 rounded-sm",children:"17% OFF"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Perfeito para iniciar sua jornada"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-juvelina-gold font-bold",children:"R$ 149,90"}),e.jsx("div",{className:"text-xs text-gray-400 line-through",children:"R$ 179,90"})]})]})}),e.jsxs("div",{className:`border rounded-xl p-3 hover:border-juvelina-gold transition-all cursor-pointer mb-2 ${i==="monthly"?"border-2 border-juvelina-gold bg-juvelina-mint/10":"border-gray-200"} relative`,onClick:()=>l("monthly"),children:[e.jsx("div",{className:"absolute -top-2.5 right-3 bg-juvelina-gold text-white text-xs px-2 py-0.5 rounded-md",children:"MAIS POPULAR"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"option-monthly",name:"purchase_option",checked:i==="monthly",onChange:()=>l("monthly"),className:"accent-juvelina-gold w-4 h-4"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"option-monthly",className:"font-medium block",children:["Assinatura Mensal ",e.jsx("span",{className:"ml-1 text-xs text-white bg-juvelina-gold px-1.5 py-0.5 rounded-sm",children:"28% OFF"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"A escolha inteligente para resultados contínuos"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-juvelina-gold font-bold",children:["R$ 129,90",e.jsx("span",{className:"text-xs font-normal",children:"/mês"})]}),e.jsx("div",{className:"text-xs text-gray-400 line-through",children:"R$ 179,90"})]})]}),i==="monthly"&&e.jsx("div",{className:"mt-2 grid grid-cols-1 gap-1 pt-2 border-t border-gray-100",children:v.monthly.benefits.map((s,t)=>e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx(u,{size:12,className:"text-juvelina-gold mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-600",children:s})]},t))})]}),e.jsx("div",{className:`border rounded-xl p-3 hover:border-juvelina-gold transition-all cursor-pointer ${i==="kit"?"border-2 border-juvelina-gold bg-juvelina-mint/10":"border-gray-200"}`,onClick:()=>l("kit"),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"option-kit",name:"purchase_option",checked:i==="kit",onChange:()=>l("kit"),className:"accent-juvelina-gold w-4 h-4"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"option-kit",className:"font-medium block",children:["Kit 3 Meses ",e.jsx("span",{className:"ml-1 text-xs text-white bg-juvelina-gold px-1.5 py-0.5 rounded-sm",children:"30% OFF"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Economize mais com nosso pacote trimestral"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-juvelina-gold font-bold",children:"R$ 379,90"}),e.jsx("div",{className:"text-xs text-gray-400 line-through",children:"R$ 539,70"})]})]})})]}),e.jsxs("div",{className:"p-4 pt-2",children:[e.jsxs("button",{className:"w-full py-3 bg-juvelina-gold text-white rounded-full font-medium flex items-center justify-center gap-2 shadow-md",children:[e.jsx(w,{size:18}),"Garantir Meu Juvelina Agora"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{size:10,className:"text-juvelina-gold"}),e.jsx("span",{children:"Pagamento Seguro"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{size:10,className:"text-juvelina-gold"}),e.jsx("span",{children:"Garantia de 30 dias"})]})]})]})]}):e.jsxs(r.div,{ref:x,className:"relative max-w-5xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[e.jsx("div",{className:"bg-gradient-to-r from-juvelina-gold to-juvelina-gold/80 text-white p-4 rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold",children:N()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{size:18}),e.jsxs("div",{className:"text-sm",children:["Oferta expira em: ",e.jsxs("span",{className:"font-bold",children:[String(d.minutes).padStart(2,"0"),":",String(d.seconds).padStart(2,"0")]})]})]}),e.jsx("button",{onClick:c,className:"text-white hover:text-gray-200 transition-colors",children:e.jsx(j,{size:24})})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h4",{className:"font-bold text-xl text-juvelina-gold mb-2",children:"Escolha seu plano Juvelina"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Nosso suplemento líquido premium com 25 nutrientes essenciais e absorção 5x superior para transformar seu bem-estar."})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:Object.entries(v).map(([s,t])=>e.jsxs("div",{className:`border rounded-xl p-5 hover:border-juvelina-gold transition-all cursor-pointer relative ${i===s?"border-2 border-juvelina-gold bg-juvelina-mint bg-opacity-10 transform scale-105 shadow-lg":"border-gray-200"} ${t.popular?"ring-1 ring-juvelina-gold ring-offset-2":""}`,onClick:()=>l(s),children:[t.popular&&e.jsx(r.div,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-juvelina-gold text-white text-xs px-4 py-1 rounded-full uppercase font-bold tracking-wide",animate:{scale:[1,1.05,1],boxShadow:["0 0 0 rgba(212, 178, 106, 0.4)","0 0 8px rgba(212, 178, 106, 0.8)","0 0 0 rgba(212, 178, 106, 0.4)"]},transition:{repeat:1/0,repeatType:"mirror",duration:2},children:"Mais Popular"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"font-bold text-lg mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 h-10",children:t.description}),e.jsxs("div",{className:"mt-4 mb-6",children:[e.jsxs("div",{className:"text-3xl font-bold text-juvelina-gold",children:["R$ ",b(t.price),s==="monthly"&&e.jsx("span",{className:"text-sm font-normal",children:"/mês"})]}),e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["R$ ",b(t.originalPrice)]}),e.jsxs("span",{className:"bg-juvelina-gold/10 text-juvelina-gold text-xs px-2 py-0.5 rounded-full",children:[R(t.originalPrice,t.price),"% OFF"]})]})]}),e.jsx("div",{className:"space-y-3 text-left mb-6",children:t.benefits.map((P,A)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{size:16,className:"text-juvelina-gold mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:P})]},A))}),e.jsxs("label",{htmlFor:`desktop-option-${s}`,className:"flex items-center justify-center gap-2 cursor-pointer",children:[e.jsx("input",{id:`desktop-option-${s}`,type:"radio",name:"desktop_purchase_option",checked:i===s,onChange:()=>l(s),className:"accent-juvelina-gold w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Selecionar"})]})]})]},s))}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("button",{className:"bg-juvelina-gold text-white px-10 py-3 rounded-full hover:bg-opacity-90 transition font-medium flex items-center justify-center gap-2 shadow-lg max-w-md w-full",children:[e.jsx(w,{size:20}),"Garantir Meu Juvelina Agora"]})}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex flex-wrap justify-around items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:18,className:"text-juvelina-gold"}),e.jsx("span",{children:"Pagamento 100% Seguro"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{size:18,className:"text-juvelina-gold"}),e.jsx("span",{children:"Satisfação Garantida"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/196/196578.png",className:"h-6 w-auto",alt:"Visa"}),e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/196/196561.png",className:"h-6 w-auto",alt:"Mastercard"}),e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/217/217425.png",className:"h-6 w-auto",alt:"Boleto"}),e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/888/888870.png",className:"h-6 w-auto",alt:"Pix"})]})]})]})]}),e.jsx(y,{children:h&&e.jsx(r.div,{className:"fixed inset-0 bg-black bg-opacity-70 z-60 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s=>{s.target===s.currentTarget&&p()},children:e.jsxs(r.div,{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full relative overflow-hidden",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},children:[e.jsx("div",{className:"bg-juvelina-gold text-white p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Espere! Oferta Especial"}),e.jsx("button",{onClick:p,className:"text-white hover:text-gray-200",children:e.jsx(j,{size:20})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-700 mb-4",children:["Não perca nossa oferta exclusiva de lançamento! Ganhe um frasco adicional ",e.jsx("strong",{children:"GRÁTIS"})," ao assinar hoje."]}),e.jsx("div",{className:"flex justify-center my-4",children:e.jsxs(r.div,{className:"bg-juvelina-mint/30 rounded-lg p-4 flex items-center gap-4",initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},children:[e.jsx("div",{className:"text-3xl font-bold text-juvelina-gold",children:"+1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"Frasco Adicional"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Valor: R$ 149,90"}),e.jsx("div",{className:"text-juvelina-gold font-bold",children:"GRÁTIS"})]})]})}),e.jsx("button",{className:"w-full bg-juvelina-gold text-white px-6 py-3 rounded-full hover:bg-opacity-90 transition font-medium mt-4",onClick:$,children:"Sim! Quero Aproveitar Esta Oferta"}),e.jsx("button",{className:"w-full text-gray-500 px-6 py-2 rounded-full hover:bg-gray-100 transition text-sm mt-2",onClick:p,children:"Não, prefiro pagar preço integral depois"})]})]})})})]})})};export{O as default};
